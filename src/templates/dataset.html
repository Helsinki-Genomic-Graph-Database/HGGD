{% extends "layout.html" %}

{% if dataset %}
    {% block title %} {{ dataset }} {% endblock %}

    {% block body %}
    <hy-docs-container>
        <hy-baseline>
            <hy-heading heading="h2"> {{ dataset_name }} </hy-heading>
        </hy-baseline>
        <br>
        <p>
            <hy-paragraph-text>{{ long_description }}</hy-paragraph-text>
        </p>
        <p>
            {% if licence %} 
            <hy-paragraph-text>Licence: {{ licence }}</hy-paragraph-text>     
            {% else %}
            <hy-paragraph-text>Licence not provided </hy-paragraph-text>
            {% endif %}
        </p>
        <br>
        <hy-table-container>
            <table>
                <thead>
                    <tr> 
                        <th colspan="2"><hy-paragraph-text>Statistics for {{ dataset_name }}</hy-paragraph-text> </th>
                    </tr> 
                </thead>
                <tbody>
                    <tr> 
                        <td><hy-paragraph-text>Total number of graphs in dataset:</hy-paragraph-text> </td>
                        <td><hy-paragraph-text>{{ total_graphs }}</hy-paragraph-text> </td>
                    </tr>
                    <tr>
                        <td> <hy-paragraph-text>Total nodes in dataset:</hy-paragraph-text>  </td>
                        <td> <hy-paragraph-text>{{ total_nodes }} </hy-paragraph-text></td>
                    </tr>
                    <tr>        
                        <td> <hy-paragraph-text>Total edges in dataset:</hy-paragraph-text> </td>
                        <td> <hy-paragraph-text>{{ total_edges }} </hy-paragraph-text></td>
                    </tr>
                    <tr>            
                        <td> <hy-paragraph-text>Nodes per graph average: </hy-paragraph-text> </td>
                        <td> <hy-paragraph-text>{{ average_nodes }} </hy-paragraph-text> </td>
                    </tr>
                    <tr>    
                        <td> <hy-paragraph-text>Edges per graph average:</hy-paragraph-text>  </td>
                        <td> <hy-paragraph-text>{{ average_edges }} </hy-paragraph-text> </td>
                    </tr>
                </tbody>
            </table>
            <br>
            <table> 
                <thead>     
                    <tr> 
                        <th colspan="2"><hy-paragraph-text>Graphs in the dataset </hy-paragraph-text></th>
                    </tr>
                </thead>
                <tbody>               
                    <tr>            
                        <th><hy-paragraph-text> Name </hy-paragraph-text></th>
                        <th> <hy-paragraph-text>Download link</hy-paragraph-text> </th>
                    </tr>
                    {% for name in graph_namelist %}   
                    <tr>
                        <td>         
                            <hy-link 
                                variant="within-paragraph"
                                url="/hggd/datasets/{{ dataset }}/{{ name }}"
                                link-content="{{ name }} "
                                aria-label="{{ name }} "
                                is-external="false"
                                >
                            </hy-link>
                        </td>
                        <td> 
                            <hy-link 
                                url="/hggd/data/{{ dataset }}/{{ name }}"
                                link-content=".graph file "
                                aria-label=".graph file"
                                is-external="false"
                                >
                            </hy-link>   
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <br>
            <hy-link 
                url="/hggd/data/{{ dataset }}/zip/{{ zipfile }}"
                link-content="Download all graph files in a zip-file"
                aria-label="Download all graph files in a zip-file"
                is-external="false"
                >
            </hy-link>
            <br>
            <table>
                <thead> 
                    <tr>
                        <th colspan="2"><hy-paragraph-text>Source files in the dataset</hy-paragraph-text></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        {% for link, source in source_tuples %}
                            <tr>
                            <td> 
                                <hy-link 
                                    url="{{link}}"
                                    link-content="{{ source }}"
                                    aria-label="{{ source }}""
                                    is-external="false"
                                    >
                                </hy-link>
                            </td>
                            </tr>
                        {% endfor %}
                    </tr>
                </tbody>
            </table>
        </hy-table-container>
        <br>
        <hy-link 
            variant="within-paragraph"
            url="/hggd/index"
            link-content="Back to main page"
            aria-label="Back to main page"
            is-external="false"
            >
        </hy-link>
    </hy-docs-container>
    {% endblock %}
{% endif %}